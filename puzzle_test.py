from puzzle import Puzzle
import unittest


class TestPuzzle(unittest.TestCase):
    def test_rule1_palkkio(self):
        """Palkkio: puzzle 1 from Issue Nro 7 hein√§-elokuu 2021."""
        puzzle = Puzzle(15, 10)
        puzzle.row_clues = [
            [4],
            [1, 6],
            [1, 1],
            [2, 3],
            [6],
            [2, 1, 2],
            [2, 4, 2],
            [1, 1, 1, 1],
            [1, 1, 1, 1],
            [1, 4, 1],
            [1, 1, 1, 1],
            [1, 1, 1, 1],
            [1, 4, 1],
            [2, 1, 2],
            [8],
        ]

        puzzle.col_clues = [
            [2, 8],
            [1, 2, 2, 2],
            [1, 3, 1],
            [2, 1, 4, 1, 1],
            [1, 1, 1, 6],
            [1, 6, 1, 1],
            [1, 1, 1, 4, 1],
            [1, 3, 1],
            [1, 1, 2, 2],
            [2, 8],
        ]

        puzzle.apply_rule1_to_rows()
        puzzle.apply_rule1_to_cols()

        expected = [
            ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "1", "1", "1", "1", "0", "0"],
            ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "1", "1", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "0", "1", "0", "0", "0", "0"],
            ["1", "1", "X", "1", "1", "1", "1", "X", "1", "1"],
            ["1", "0", "0", "1", "0", "1", "0", "0", "0", "1"],
            ["1", "0", "0", "1", "0", "0", "0", "0", "0", "1"],
            ["1", "0", "0", "0", "1", "1", "1", "0", "0", "1"],
            ["1", "0", "0", "0", "1", "0", "0", "0", "0", "1"],
            ["0", "0", "0", "0", "1", "0", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "1", "1", "0", "0", "0", "0"],
            ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
            ["0", "0", "1", "1", "1", "1", "1", "1", "0", "0"],
        ]

        self.assertEqual(expected, puzzle.grid)
